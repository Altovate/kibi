<div ng-controller="KibiDataTableVisController" class="kibi-data-table-vis">

  <div class="small-note" ng-show="customView">
    <kibi-table-sorting
      columns="vis.params.columns"
      sorting="vis.params.sort"
      ng-if="vis.params.sort && showCustomView"
    ></kibi-table-sorting>
    <a
      class="pull-right"
      ng-click='showCustomView = !showCustomView'
      >Switch to {{ showCustomView ? 'Standard' : 'Custom' }} View</a>
  </div>

  <doc-table
    on-add-column="onAddColumn"
    on-remove-column="onRemoveColumn"
    on-move-column="onMoveColumn"
    search-source="searchSource"
    sorting="vis.params.sort"
    filter="filter"
    columns="vis.params.columns"

    custom-viewer-mode="customViewerMode"
    custom-view="customView"
    show-custom-view="showCustomView"
    template-id="vis.params.templateId"
    cell-click-handlers="cellClickHandlers"
    column-aliases="vis.params.columnAliases"
    increase-sample="true"
    csv="true"
    hits="hits"
  ></doc-table>

</div>
