<div ng-controller="KibiDataTableVisController" class="kibi-data-table-vis">

  <div class="custom-view" ng-show="customView">
    <a
      ng-click='showCustomView = !showCustomView'
      >Switch to {{ showCustomView ? 'standard' : 'custom' }} template</a>
    <kibi-table-sorting
      columns="vis.params.columns"
      sorting="sorting"
      ng-show="sorting && showCustomView"
    ></kibi-table-sorting>
  </div>

  <doc-table
    on-add-column="onAddColumn"
    on-remove-column="onRemoveColumn"
    on-move-column="onMoveColumn"
    on-change-sort-order="onChangeSortOrder"
    search-source="searchSource"
    sorting="sorting"
    filter="filter"
    columns="vis.params.columns"

    custom-viewer-mode="customViewerMode"
    custom-view="customView"
    show-custom-view="showCustomView"
    template-id="vis.params.templateId"
    cell-click-handlers="cellClickHandlers"
    column-aliases="vis.params.columnAliases"
    increase-sample="true"
    page-size="vis.params.pageSize"
    csv="true"
    hits="hits"
  ></doc-table>

</div>
