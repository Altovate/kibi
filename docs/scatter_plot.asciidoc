[[kibi_scatter_plot]]
=== Kibi Scatter Plot

This visualization displays a scatter plot chart
in four different modes: _Straight_, _Significant term_, _Any aggregator_, _Filtered aggregator_)

==== Straight data

This mode don't use aggregates, it pulls the data directly from Elasticsearch using the {elastic-ref}query-dsl-function-score-query.html[Random scoring method] to get a random sample of records.

*X values*:: The value can be String, Date or Numberic. Select a field from the drop-down.
*Y values*:: The field value can be String, Date or Numberic. Select a field from the drop-down.
*X axis label*:: A label for the X axis.
*Y axis label*:: A label for the Y axis.
*X axis scale*:: You can select *linear*, *log*, or *square root* scales for the chart's X axis. You can use a log
scale to display data that varies exponentially, such as a compounding interest chart, or a square root scale to
regularize the display of data sets with variabilities that are themselves highly variable. This kind of data, where
the variability is itself variable over the domain being examined, is known as _heteroscedastic_ data. For example, if
a data set of height versus weight has a relatively narrow range of variability at the short end of height, but a wider
range at the taller end, the data set is heteroscedastic.
*Y axis scale*:: You can select *linear*, *log*, or *square root* scales for the chart's Y axis.
*Jitter field*:: Deterministic jitter to add pseudo random data distribution in the X axis data interval.
*Jitter scale*:: You can select *linear*, *log*, or *square root* scales for the Jitter.
*Label*:: A label for the dot.
*Display label*:: Check this box to enable the display of a label next to the dot.
*Label hover effect*:: Check this box to enable the tooltip label.
*Color*:: A color for the dot.
*Color field*:: The field used as an input to the category10 (d3 categorical colors) and it's been used as color for the dot. Only number field types are allowed.
*Dot size*:: A size for the dot.
*Dot size field*:: The field used as an input for the dot size. Only number field types are allowed.
*Dot size scale*:: You can select *linear*, *log*, or *square root* scales for the dot size.
*Size*:: Number of random records to fetch from Eleasticsearch query.
*Shape opacity*:: Value from 0 to 1 which defines the dot transparency.

==== Significant term data

In this mode the chart is built from a _Significant terms_ aggregation query result.
The X values is taken from the *bg_count* field and the Y values from *doc_count* field.

*Field*:: the field which will provide terms to be aggregated.
*Size*:: the number of significant terms to be aggregated.
*X axis label*:: A label for the X axis.
*Y axis label*:: A label for the Y axis.
*Color*:: A color for the dot.
*Shape opacity*:: Value from 0 to 1 which defines the dot transparency.

==== Any aggregator

The chart is built from a _Date Histogram_, _Histogram_, _Terms_ or _Significant terms_ aggregation query result.

*Aggregation*:: Select an aggregation from the drop-down list.
*X Metric*:: X axis values. Select a metric from the drop-down list.
*Y Metric*:: Y axis values. Select a metric from the drop-down list.
*Color*:: A color for the dot.
*Dot size*:: A size for the dot.
*Shape opacity*:: Value from 0 to 1 which defines the dot transparency.

==== Filtered aggregator

The chart is built from a _Date Histogram_, _Histogram_, _Terms_ or _Significant terms_ aggregation query result.
The X and Y values are taken from _Filters_ aggregation results.

*Aggregation*:: Select an aggregation from the drop-down list.
*Filter X*:: A filter string for the X axis.
*Filter Y*:: A filter string for the Y axis.
*Metric*:: Metric to be calculated for each filter aggregation. Select a metric from the drop-down list.
*Color*:: A color for the dot.
*Dot size*:: A size for the dot.
*Shape opacity*:: Value from 0 to 1 which defines the dot transparency.

After changing options, click the green *Apply changes* button to update your visualization, or the grey *Discard
changes* button to keep your visualization in its current state.

